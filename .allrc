# -*- mode: shell-script -*-
#
# .allrc should be sourced by all shells at the end of it's rc_file
#
#
# Environment
#

#
# General
#

function print-args {
    printf ":%s:" $@
}

# ls
#alias ls='ls --group-directories-first'
#alias l='ls -lrtGF'

# emacs
export EDITOR="emacs -nw -q"
export SUDO_EDITOR="emacs -nw -q"

alias e='emacs -nw -q'
alias emacs='emacs.sh'
alias magit='emacs $(pwd) --eval "(magit-status)"'

case "$(uname)" in
    "Linux")
        alias open="xdg-open"
        ;;
esac

# sudo edit
function sudo_edit() {
    FILE=$1
    [[ $# -ne 1 || ! -e $FILE ]] && {
        echo "Usage: $0 <filename>"
        return 1 # FAIL
    }
    TMP_FILE=$(mktemp)
    cp "$FILE" "$TMP_FILE"
    sudoedit "$FILE"
    printf "Diff:\n"
    diff "$FILE" "$TMP_FILE"
    return 0
}
alias se-hosts='se /etc/hosts'

alias hibernate="pm-hibernate"

if [[ -d ~/.shell.d ]]
then
    for file in ~/.shell.d/*.sh
    do
        source "$file"
    done
fi

if [[ -e .profile ]]
then
    source ~/.profile
fi
